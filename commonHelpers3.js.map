{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst btnReff = document.querySelector('button[type=\"submit\"]')\nconst formReff = document.querySelector('.form')\n\nlet formItems = {}\n\nformReff.addEventListener('submit', (evt) => {\n  evt.preventDefault()\n\n  const formData = new FormData(evt.currentTarget)\n  formData.forEach((value, key) => {\n    formItems[key] = Number(value)\n  })\n  let delay = formItems.delay\n\n  for (let i = 1; i <= formItems.amount; i += 1) {\n    if (i > 1) {\n      delay += formItems.step\n    }\n    createPromise(i, delay)\n      .then(({ position, delay }) => {\n        console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n        iziToast.show({\n          title: 'Fulfilled',\n          color: 'green',\n          position: 'topCenter',\n          message: `✅ Fulfilled promise ${position} in ${delay}ms`\n        });\n      })\n      .catch(({ position, delay }) => {\n        console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n        iziToast.show({\n          title: 'Rejected',\n          color: 'red',\n          position: 'topCenter',\n          message: `❌ Rejected promise ${position} in ${delay}ms`\n        });\n      });\n  }\n  formReff.reset()\n})\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    setTimeout(() => {\n      if (shouldResolve) {\n        // Fulfill\n        resolve({ position, delay })\n      } else {\n        // Reject\n        reject({ position, delay })\n      }\n    }, delay)\n  })\n\n\n}\n"],"names":["formReff","formItems","evt","value","key","delay","i","createPromise","position","iziToast","resolve","reject","shouldResolve"],"mappings":"wIAGgB,SAAS,cAAc,uBAAuB,EAC9D,MAAMA,EAAW,SAAS,cAAc,OAAO,EAE/C,IAAIC,EAAY,CAAE,EAElBD,EAAS,iBAAiB,SAAWE,GAAQ,CAC3CA,EAAI,eAAgB,EAEH,IAAI,SAASA,EAAI,aAAa,EACtC,QAAQ,CAACC,EAAOC,IAAQ,CAC/BH,EAAUG,GAAO,OAAOD,CAAK,CACjC,CAAG,EACD,IAAIE,EAAQJ,EAAU,MAEtB,QAASK,EAAI,EAAGA,GAAKL,EAAU,OAAQK,GAAK,EACtCA,EAAI,IACND,GAASJ,EAAU,MAErBM,EAAcD,EAAGD,CAAK,EACnB,KAAK,CAAC,CAAE,SAAAG,EAAU,MAAAH,KAAY,CAC7B,QAAQ,IAAI,uBAAuBG,QAAeH,KAAS,EAC3DI,EAAS,KAAK,CACZ,MAAO,YACP,MAAO,QACP,SAAU,YACV,QAAS,uBAAuBD,QAAeH,KACzD,CAAS,CACT,CAAO,EACA,MAAM,CAAC,CAAE,SAAAG,EAAU,MAAAH,KAAY,CAC9B,QAAQ,IAAI,sBAAsBG,QAAeH,KAAS,EAC1DI,EAAS,KAAK,CACZ,MAAO,WACP,MAAO,MACP,SAAU,YACV,QAAS,sBAAsBD,QAAeH,KACxD,CAAS,CACT,CAAO,EAELL,EAAS,MAAO,CAClB,CAAC,EAED,SAASO,EAAcC,EAAUH,EAAO,CACtC,OAAO,IAAI,QAAQ,CAACK,EAASC,IAAW,CACtC,MAAMC,EAAgB,KAAK,OAAM,EAAK,GACtC,WAAW,IAAM,CACXA,EAEFF,EAAQ,CAAE,SAAAF,EAAU,MAAAH,EAAO,EAG3BM,EAAO,CAAE,SAAAH,EAAU,MAAAH,EAAO,CAE7B,EAAEA,CAAK,CACZ,CAAG,CAGH"}